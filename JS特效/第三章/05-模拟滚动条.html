<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box{
				width: 300px;
				height: 500px;
				/*padding: 10px;*/
				border: 1px solid red;
				margin: 50px auto;
				position: relative;
				overflow: hidden;
			}
			.right{
				position: absolute;
				right: 0;
				top: 0;
				width: 20px;
				height: 530px;
				background: darkgray;
			}
			.bar{
				width: 20px;
				/*height: 200px;*/
				background: red;
				border-radius: 10px;
				cursor: pointer;
				position: absolute;
				top: 0;
		
			}
			.content{
				padding: 15px;
			}
		</style>
		<script src="demo.js">
			
		</script>
		<script type="text/javascript">
			window.onload = function(){
				var box = document.getElementsByClassName("box")[0];
				var content = document.getElementsByClassName("content")[0];
				var right = document.getElementsByClassName("right")[0];
				var bar = document.getElementsByClassName("bar")[0];
				var barHeight = box.offsetHeight*right.offsetHeight/content.offsetHeight;
				bar.style.height = barHeight + "px";
				
				
				bar.onmousedown = function(event){
					event = event || window.event;
					

					var pagey = event.pageY || event.clientY+scroll().top;
					//鼠标在盒子中的位置
					var  y = pagey - bar.offsetTop;
					console.log(y);
					
					document.onmousemove = function(event){
						event = event || window.event;
						var pageyy = event.pageY || event.clientY+scroll().top;
						console.log(pageyy);
						pageyy = pageyy - y;
						console.log(pageyy);
						
						if(pageyy<0){
							pageyy = 0;
						}
						
						if(pageyy>right.offsetHeight-bar.offsetHeight){
							pageyy = right.offsetHeight - bar.offsetHeight;
						}
						
						bar.style.top = pageyy + "px";
						
						
//						var s = pageyy*(content.offsetHeight-box.offsetHeight)/(right.offsetHeight-bar.offsetHeight);
						var s = pageyy*(content.offsetHeight)/(right.offsetHeight);
						content.style.marginTop  = -s + "px";
						
					
						
					}
					
				}
				
				bar.onmouseup = function(){
					document.onmousemove = null;
				}
			}
		</script>
	</head>
	<body>
		<div class="box">
			<div class="content">
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
				孩儿励志出湘关，学不成名终不还。<br />
				埋骨何须桑梓地，人生无处不青山。<br />
			</div>
			<div class="right">
				<div class="bar"></div>
			</div>
		</div>
	</body>
</html>
